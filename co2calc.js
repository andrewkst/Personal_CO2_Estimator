const byId = id => document.getElementById(id);

csvData = CSVParse();
CountrySelected();
Calculate();

function CountrySelected()
{
    const country = byId("countries").value;
    byId("coal%").value = (csvData[country]).Coal;
	byId("gas%").value = (csvData[country]).Gas;
	byId("oil%").value = (csvData[country]).Oil;
	byId("hydro%").value = (csvData[country]).Hydro;
	byId("renew%").value = (csvData[country]).Renewable;
	byId("nuclear%").value = (csvData[country]).Nuclear;	
	Calculate();
}

function Calculate()
{
	const e = byId("powerUnit");
	const power = byId("power").value / e.options[e.selectedIndex].value;
	
	const totalPercentage = Number(byId("coal%").value) + Number(byId("gas%").value) + Number(byId("oil%").value) + Number(byId("hydro%").value) + Number(byId("renew%").value) + Number(byId("nuclear%").value) + Number(byId("custom%").value);
	byId("total%").textContent = Math.round(totalPercentage*10)/10 + "%";
	
	const kgCO2result = ((byId("coal%").value * byId("coalCO").value + byId("gas%").value * byId("gasCO").value + byId("oil%").value * byId("oilCO").value +
				  byId("hydro%").value * byId("hydroCO").value + byId("renew%").value * byId("renewCO").value + byId("nuclear%").value * byId("nuclearCO").value + 
				  byId("custom%").value * byId("customCO").value) / 100000) * 24 * 365 * power;
	const treesRequired = kgCO2result / 15.7;
	byId("kgCO2result").textContent = ((Math.ceil(kgCO2result)).toLocaleString('en')).replace(/,/g," ");
	byId("treesRequired").textContent = ((Math.ceil(treesRequired)).toLocaleString('en')).replace(/,/g," ");
}


function CSVParse()
{
	const rawData = `{"Albania":{"Coal":0,"Gas":0,"Oil":0,"Hydro":100,"Renewable":0,"Nuclear":0},"Algeria":{"Coal":0,"Gas":98.4,"Oil":1.3,"Hydro":0.2,"Renewable":0.1,"Nuclear":0},"Angola":{"Coal":0,"Gas":0,"Oil":46.8,"Hydro":53.2,"Renewable":0,"Nuclear":0},"Argentina":{"Coal":2.03,"Gas":49.5,"Oil":15.4,"Hydro":26.2,"Renewable":1.9,"Nuclear":4.2},"Armenia":{"Coal":0,"Gas":35.9,"Oil":0,"Hydro":28.3,"Renewable":0.1,"Nuclear":31.8},"Australia":{"Coal":62.87,"Gas":20.8,"Oil":2.7,"Hydro":5.3,"Renewable":8.3,"Nuclear":0},"Austria":{"Coal":8.23,"Gas":12.6,"Oil":1.4,"Hydro":60,"Renewable":16.5,"Nuclear":0},"Azerbaijan":{"Coal":0,"Gas":86.1,"Oil":6.5,"Hydro":6.6,"Renewable":0.4,"Nuclear":0},"Bahrain":{"Coal":0,"Gas":100,"Oil":0,"Hydro":0,"Renewable":0,"Nuclear":0},"Bangladesh":{"Coal":1.69,"Gas":80.7,"Oil":16.4,"Hydro":1,"Renewable":0.3,"Nuclear":0},"Belarus":{"Coal":0,"Gas":97.9,"Oil":1.1,"Hydro":0.3,"Renewable":0.5,"Nuclear":0},"Belgium":{"Coal":6.11,"Gas":32.8,"Oil":0.3,"Hydro":0.5,"Renewable":20.3,"Nuclear":37.5},"Benin":{"Coal":0,"Gas":0,"Oil":94.4,"Hydro":4.1,"Renewable":1.5,"Nuclear":0},"Bolivia":{"Coal":0,"Gas":66.3,"Oil":2.3,"Hydro":28.9,"Renewable":2.5,"Nuclear":0},"Bosnia and Herzegovina":{"Coal":63.98,"Gas":0.2,"Oil":0.3,"Hydro":35.5,"Renewable":0,"Nuclear":0},"Botswana":{"Coal":96.36,"Gas":0,"Oil":3.6,"Hydro":0,"Renewable":0,"Nuclear":0},"Brazil":{"Coal":4.72,"Gas":13.7,"Oil":5,"Hydro":61.8,"Renewable":12.1,"Nuclear":2.6},"Brunei Darussalam":{"Coal":0,"Gas":99,"Oil":1,"Hydro":0,"Renewable":0,"Nuclear":0},"Bulgaria":{"Coal":46.21,"Gas":3.8,"Oil":0.4,"Hydro":11.6,"Renewable":6.4,"Nuclear":33.8},"Cambodia":{"Coal":48.4,"Gas":0,"Oil":5.2,"Hydro":45.5,"Renewable":0.9,"Nuclear":0},"Cameroon":{"Coal":0,"Gas":6,"Oil":17.9,"Hydro":75,"Renewable":1.1,"Nuclear":0},"Canada":{"Coal":9.84,"Gas":10,"Oil":1.2,"Hydro":56.7,"Renewable":6.3,"Nuclear":15.5},"Chile":{"Coal":37.14,"Gas":15.1,"Oil":4.2,"Hydro":31.7,"Renewable":11.9,"Nuclear":0},"China":{"Coal":70.31,"Gas":2.5,"Oil":0.2,"Hydro":19.1,"Renewable":4.9,"Nuclear":2.3},"Hong Kong SAR, China":{"Coal":11.85,"Gas":33.8,"Oil":0.5,"Hydro":0,"Renewable":0.3,"Nuclear":0},"Colombia":{"Coal":0,"Gas":19.3,"Oil":0.6,"Hydro":65,"Renewable":3.3,"Nuclear":0},"Congo, Dem. Rep.":{"Coal":0,"Gas":0,"Oil":0.1,"Hydro":99.7,"Renewable":0.1,"Nuclear":0},"Congo, Rep.":{"Coal":0,"Gas":46.7,"Oil":0,"Hydro":53.3,"Renewable":0,"Nuclear":0},"Costa Rica":{"Coal":0,"Gas":0,"Oil":1,"Hydro":74.6,"Renewable":24.4,"Nuclear":0},"Cote d'Ivoire":{"Coal":20.56,"Gas":78.1,"Oil":5.2,"Hydro":15.5,"Renewable":1.2,"Nuclear":0},"Croatia":{"Coal":0,"Gas":10.7,"Oil":2,"Hydro":56.9,"Renewable":10,"Nuclear":0},"Cuba":{"Coal":0,"Gas":14.5,"Oil":46,"Hydro":0.2,"Renewable":3.7,"Nuclear":0},"Curacao":{"Coal":0,"Gas":0,"Oil":0,"Hydro":0,"Renewable":0,"Nuclear":0},"Cyprus":{"Coal":0,"Gas":0,"Oil":91.2,"Hydro":0,"Renewable":8.8,"Nuclear":0},"Czech Republic":{"Coal":53.06,"Gas":2.7,"Oil":0.1,"Hydro":2.2,"Renewable":9.2,"Nuclear":32.5},"Denmark":{"Coal":24.54,"Gas":6.3,"Oil":1.1,"Hydro":0.1,"Renewable":65.4,"Nuclear":0},"Dominican Republic":{"Coal":12.86,"Gas":22,"Oil":53.5,"Hydro":6.4,"Renewable":5.3,"Nuclear":0},"Ecuador":{"Coal":0,"Gas":12.7,"Oil":34.5,"Hydro":50.7,"Renewable":2.1,"Nuclear":0},"Egypt, Arab Rep.":{"Coal":0,"Gas":70.7,"Oil":21,"Hydro":7.4,"Renewable":0.9,"Nuclear":0},"El Salvador":{"Coal":0,"Gas":0,"Oil":42.2,"Hydro":22.6,"Renewable":35.2,"Nuclear":0},"Eritrea":{"Coal":0,"Gas":0,"Oil":99.5,"Hydro":0,"Renewable":0.5,"Nuclear":0},"Estonia":{"Coal":5.33,"Gas":0.6,"Oil":1.2,"Hydro":0.3,"Renewable":14.2,"Nuclear":0},"Ethiopia":{"Coal":0,"Gas":0,"Oil":0,"Hydro":92.7,"Renewable":7.3,"Nuclear":0},"Finland":{"Coal":8.3,"Gas":7.6,"Oil":0.3,"Hydro":24.4,"Renewable":20.1,"Nuclear":33.9},"France":{"Coal":2.16,"Gas":3.5,"Oil":0.4,"Hydro":9.7,"Renewable":6.2,"Nuclear":77.6},"Gabon":{"Coal":0,"Gas":46,"Oil":10.2,"Hydro":43.2,"Renewable":0.6,"Nuclear":0},"Georgia":{"Coal":0,"Gas":22,"Oil":0,"Hydro":78,"Renewable":0,"Nuclear":0},"Germany":{"Coal":44.26,"Gas":9.8,"Oil":1,"Hydro":3,"Renewable":26.3,"Nuclear":14.3},"Ghana":{"Coal":0,"Gas":38.8,"Oil":0,"Hydro":50.9,"Renewable":0,"Nuclear":0},"Greece":{"Coal":42.66,"Gas":17.5,"Oil":10.9,"Hydro":11.8,"Renewable":16.9,"Nuclear":0},"Guatemala":{"Coal":21.36,"Gas":0,"Oil":18.2,"Hydro":35,"Renewable":25.3,"Nuclear":0},"Haiti":{"Coal":0,"Gas":0,"Oil":92,"Hydro":8,"Renewable":0,"Nuclear":0},"Honduras":{"Coal":1.04,"Gas":0,"Oil":56.7,"Hydro":26.1,"Renewable":16.2,"Nuclear":0},"Hungary":{"Coal":19.47,"Gas":16.8,"Oil":0.3,"Hydro":0.8,"Renewable":9.8,"Nuclear":52.2},"Iceland":{"Coal":0,"Gas":0,"Oil":0,"Hydro":73.3,"Renewable":26.7,"Nuclear":0},"India":{"Coal":75.31,"Gas":4.9,"Oil":1.7,"Hydro":10,"Renewable":5.4,"Nuclear":2.8},"Indonesia":{"Coal":55.78,"Gas":25.2,"Oil":8.4,"Hydro":5.9,"Renewable":4.8,"Nuclear":0},"Iran, Islamic Rep.":{"Coal":0.16,"Gas":79.3,"Oil":14.4,"Hydro":5,"Renewable":0.1,"Nuclear":1.6},"Iraq":{"Coal":0,"Gas":24.4,"Oil":25.7,"Hydro":3.7,"Renewable":0,"Nuclear":0},"Ireland":{"Coal":17.35,"Gas":44,"Oil":1.4,"Hydro":2.9,"Renewable":25.1,"Nuclear":0},"Israel":{"Coal":45.4,"Gas":51.6,"Oil":0.7,"Hydro":0,"Renewable":1.9,"Nuclear":0},"Italy":{"Coal":16.12,"Gas":39.4,"Oil":4.8,"Hydro":16.2,"Renewable":22.5,"Nuclear":0},"Jamaica":{"Coal":0,"Gas":0,"Oil":89.7,"Hydro":3.1,"Renewable":7.1,"Nuclear":0},"Japan":{"Coal":33.15,"Gas":39.6,"Oil":7.5,"Hydro":8.2,"Renewable":7.8,"Nuclear":0.9},"Jordan":{"Coal":0,"Gas":48.4,"Oil":50.6,"Hydro":0.3,"Renewable":0.7,"Nuclear":0},"Kazakhstan":{"Coal":71.57,"Gas":18.4,"Oil":1.2,"Hydro":8.7,"Renewable":0.2,"Nuclear":0},"Kenya":{"Coal":0,"Gas":0,"Oil":12.5,"Hydro":39.2,"Renewable":48.3,"Nuclear":0},"Korea, Dem. People's Rep.":{"Coal":21.29,"Gas":0,"Oil":5.9,"Hydro":72.8,"Renewable":0,"Nuclear":0},"Korea, Rep.":{"Coal":43.08,"Gas":22.4,"Oil":2.3,"Hydro":0.4,"Renewable":1.5,"Nuclear":30},"Kosovo":{"Coal":97.47,"Gas":0,"Oil":0.2,"Hydro":2.3,"Renewable":0,"Nuclear":0},"Kuwait":{"Coal":0,"Gas":36.4,"Oil":63.6,"Hydro":0,"Renewable":0,"Nuclear":0},"Kyrgyz Republic":{"Coal":13.22,"Gas":1.3,"Oil":0.3,"Hydro":85.2,"Renewable":0,"Nuclear":0},"Latvia":{"Coal":0,"Gas":49.8,"Oil":0,"Hydro":33.6,"Renewable":16.6,"Nuclear":0},"Lebanon":{"Coal":0,"Gas":0,"Oil":97.4,"Hydro":2.6,"Renewable":0,"Nuclear":0},"Libya":{"Coal":0,"Gas":53.7,"Oil":46.3,"Hydro":0,"Renewable":0,"Nuclear":0},"Lithuania":{"Coal":0,"Gas":46.5,"Oil":6.5,"Hydro":8.2,"Renewable":31.2,"Nuclear":0},"Luxembourg":{"Coal":0,"Gas":62.7,"Oil":0,"Hydro":7.4,"Renewable":24.9,"Nuclear":0},"Macedonia, FYR":{"Coal":0,"Gas":0,"Oil":0,"Hydro":0,"Renewable":0,"Nuclear":0},"Malaysia":{"Coal":42.28,"Gas":46.6,"Oil":1.2,"Hydro":9.3,"Renewable":0.7,"Nuclear":0},"Malta":{"Coal":0,"Gas":0,"Oil":92.3,"Hydro":0,"Renewable":7.7,"Nuclear":0},"Mauritius":{"Coal":39.44,"Gas":0,"Oil":37.8,"Hydro":4.1,"Renewable":18.7,"Nuclear":0},"Mexico":{"Coal":10.87,"Gas":59.9,"Oil":10.1,"Hydro":9.9,"Renewable":5.5,"Nuclear":3.7},"Moldova":{"Coal":0,"Gas":94.5,"Oil":0.1,"Hydro":5.1,"Renewable":0.3,"Nuclear":0},"Mongolia":{"Coal":92.74,"Gas":0,"Oil":4.2,"Hydro":0,"Renewable":3.1,"Nuclear":0},"Montenegro":{"Coal":50.35,"Gas":0,"Oil":0,"Hydro":49.7,"Renewable":0,"Nuclear":0},"Morocco":{"Coal":55.53,"Gas":18.8,"Oil":7.2,"Hydro":6.1,"Renewable":8.2,"Nuclear":0},"Mozambique":{"Coal":0,"Gas":12.8,"Oil":0.8,"Hydro":86.4,"Renewable":0,"Nuclear":0},"Myanmar":{"Coal":1.78,"Gas":39,"Oil":0.3,"Hydro":58.9,"Renewable":0,"Nuclear":0},"Namibia":{"Coal":0.46,"Gas":0,"Oil":1.8,"Hydro":97.8,"Renewable":0,"Nuclear":0},"Nepal":{"Coal":0,"Gas":0,"Oil":0,"Hydro":99.8,"Renewable":0.2,"Nuclear":0},"Netherlands":{"Coal":38.65,"Gas":42.3,"Oil":1.3,"Hydro":0.1,"Renewable":12.4,"Nuclear":3.5},"New Zealand":{"Coal":4.25,"Gas":15.5,"Oil":0,"Hydro":55.5,"Renewable":24.6,"Nuclear":0},"Nicaragua":{"Coal":0,"Gas":0,"Oil":49.9,"Hydro":6.4,"Renewable":43.6,"Nuclear":0},"Niger":{"Coal":41.62,"Gas":0,"Oil":57.6,"Hydro":0,"Renewable":0.8,"Nuclear":0},"Nigeria":{"Coal":0,"Gas":81.8,"Oil":0,"Hydro":18.2,"Renewable":0,"Nuclear":0},"Norway":{"Coal":0.1,"Gas":1.8,"Oil":0,"Hydro":95.8,"Renewable":1.9,"Nuclear":0},"Oman":{"Coal":0,"Gas":97.4,"Oil":2.6,"Hydro":0,"Renewable":0,"Nuclear":0},"Pakistan":{"Coal":0.14,"Gas":25.7,"Oil":37.2,"Hydro":30.7,"Renewable":0.8,"Nuclear":4.8},"Panama":{"Coal":6.92,"Gas":0,"Oil":27.8,"Hydro":60.8,"Renewable":4.6,"Nuclear":0},"Paraguay":{"Coal":0,"Gas":0,"Oil":0,"Hydro":100,"Renewable":0,"Nuclear":0},"Peru":{"Coal":0.84,"Gas":45,"Oil":1.4,"Hydro":49.1,"Renewable":3.6,"Nuclear":0},"Philippines":{"Coal":44.51,"Gas":22.9,"Oil":7.1,"Hydro":10.5,"Renewable":14.9,"Nuclear":0},"Poland":{"Coal":80.91,"Gas":3.9,"Oil":1.3,"Hydro":1.1,"Renewable":12.7,"Nuclear":0},"Portugal":{"Coal":28.72,"Gas":20.6,"Oil":2.6,"Hydro":16.9,"Renewable":30.6,"Nuclear":0},"Qatar":{"Coal":0,"Gas":100,"Oil":0,"Hydro":0,"Renewable":0,"Nuclear":0},"Romania":{"Coal":27.64,"Gas":14.2,"Oil":0.7,"Hydro":25.2,"Renewable":14.5,"Nuclear":17.9},"Russian Federation":{"Coal":14.82,"Gas":49.7,"Oil":0.9,"Hydro":15.8,"Renewable":0.1,"Nuclear":17},"SaudiArabia":{"Coal":0,"Gas":55.8,"Oil":20.4,"Hydro":0,"Renewable":0,"Nuclear":0},"Senegal":{"Coal":0,"Gas":4.2,"Oil":83.6,"Hydro":8.6,"Renewable":1.8,"Nuclear":0},"Serbia":{"Coal":72.43,"Gas":0.6,"Oil":0.1,"Hydro":26.8,"Renewable":0.1,"Nuclear":0},"Singapore":{"Coal":1.2,"Gas":95,"Oil":0.7,"Hydro":0,"Renewable":1.8,"Nuclear":0},"Slovak Republic":{"Coal":12.51,"Gas":6,"Oil":1.4,"Hydro":14.5,"Renewable":8.2,"Nuclear":56.9},"Slovenia":{"Coal":29.59,"Gas":2.7,"Oil":0.1,"Hydro":25.7,"Renewable":3.7,"Nuclear":38.1},"South Africa":{"Coal":92.71,"Gas":0,"Oil":0.1,"Hydro":0.3,"Renewable":1.9,"Nuclear":5.5},"South Sudan":{"Coal":0,"Gas":0,"Oil":99.4,"Hydro":0,"Renewable":0.6,"Nuclear":0},"Spain":{"Coal":18.96,"Gas":18.9,"Oil":6.2,"Hydro":10.1,"Renewable":24.8,"Nuclear":20.6},"Sri Lanka":{"Coal":33.71,"Gas":0,"Oil":17.8,"Hydro":45.3,"Renewable":3.2,"Nuclear":0},"Sudan":{"Coal":0,"Gas":0,"Oil":22.6,"Hydro":64.5,"Renewable":0,"Nuclear":0},"Suriname":{"Coal":0,"Gas":0,"Oil":39.9,"Hydro":60.1,"Renewable":0,"Nuclear":0},"Sweden":{"Coal":0.67,"Gas":0.3,"Oil":0.2,"Hydro":46.5,"Renewable":16.8,"Nuclear":34.7},"Switzerland":{"Coal":0,"Gas":1,"Oil":0.1,"Hydro":57.9,"Renewable":4.3,"Nuclear":34.9},"Syrian Arab Republic":{"Coal":0,"Gas":68.6,"Oil":29.1,"Hydro":2.3,"Renewable":0,"Nuclear":0},"Tajikistan":{"Coal":1.53,"Gas":0,"Oil":0,"Hydro":98.5,"Renewable":0,"Nuclear":0},"Tanzania":{"Coal":0,"Gas":43.9,"Oil":21.9,"Hydro":33.5,"Renewable":0.7,"Nuclear":0},"Thailand":{"Coal":19.45,"Gas":71.4,"Oil":0.6,"Hydro":2.7,"Renewable":5.9,"Nuclear":0},"Togo":{"Coal":0,"Gas":0,"Oil":24.7,"Hydro":69.1,"Renewable":6.2,"Nuclear":0},"Trinidad and Tobago":{"Coal":0,"Gas":99.8,"Oil":0.2,"Hydro":0,"Renewable":0,"Nuclear":0},"Tunisia":{"Coal":0,"Gas":91.4,"Oil":4.6,"Hydro":0.4,"Renewable":2.5,"Nuclear":0},"Turkey":{"Coal":29.1,"Gas":37.9,"Oil":0.8,"Hydro":25.6,"Renewable":6.3,"Nuclear":0},"Turkmenistan":{"Coal":0,"Gas":100,"Oil":0,"Hydro":0,"Renewable":0,"Nuclear":0},"Ukraine":{"Coal":34.58,"Gas":6.2,"Oil":0.5,"Hydro":3.3,"Renewable":1.1,"Nuclear":48.6},"United Arab":{"Coal":0,"Gas":98.5,"Oil":1.2,"Hydro":0,"Renewable":0.2,"Nuclear":0},"United Kingdom":{"Coal":22.81,"Gas":29.7,"Oil":0.6,"Hydro":1.9,"Renewable":23,"Nuclear":20.9},"United States":{"Coal":34.23,"Gas":31.9,"Oil":0.9,"Hydro":5.8,"Renewable":7.4,"Nuclear":19.3},"Uruguay":{"Coal":0,"Gas":0,"Oil":11.4,"Hydro":60.2,"Renewable":28.4,"Nuclear":0},"Uzbekistan":{"Coal":4.09,"Gas":75,"Oil":0.3,"Hydro":20.7,"Renewable":0,"Nuclear":0},"Venezuela, RB":{"Coal":0,"Gas":19.4,"Oil":16.9,"Hydro":63.7,"Renewable":0,"Nuclear":0},"Vietnam":{"Coal":29.57,"Gas":33.2,"Oil":0.5,"Hydro":36.6,"Renewable":0.1,"Nuclear":0},"Yemen, Rep.":{"Coal":0,"Gas":39.8,"Oil":60.2,"Hydro":0,"Renewable":0,"Nuclear":0},"Zambia":{"Coal":0,"Gas":0,"Oil":3,"Hydro":97,"Renewable":0,"Nuclear":0},"Zimbabwe":{"Coal":46.78,"Gas":0,"Oil":0.5,"Hydro":51.4,"Renewable":1.3,"Nuclear":0}}`;
	return JSON.parse(rawData);
}



var res = document.getElementById('result');
var res2 = document.getElementById("result2");
var res3 = document.getElementById("result3");
var res4 = document.getElementById("result4");
var mpg = document.getElementById('mpg');
var dist = document.getElementById('dist');
var trip = document.getElementById('trips');

